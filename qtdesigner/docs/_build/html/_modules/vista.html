<!DOCTYPE html>
<html class="writer-html5" lang="es" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>vista &mdash; documentación de Control de stock - 0.0.2</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Índice" href="../genindex.html" />
    <link rel="search" title="Búsqueda" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Control de stock
          </a>
              <div class="version">
                0.0.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Buscar documentos" aria-label="Buscar documentos" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contenidos:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../controlador.html">Módulo Controlador</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modelo.html">Módulo Modelo</a></li>
<li class="toctree-l1"><a class="reference internal" href="../validar.html">Módulo Validar</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vista.html">Módulo Vista</a></li>
<li class="toctree-l1"><a class="reference internal" href="../observador.html">Módulo Observador</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cliente.html">Módulo Cliente</a></li>
<li class="toctree-l1"><a class="reference internal" href="../servidor.html">Módulo Servidor</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Control de stock</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Código de módulo</a></li>
      <li class="breadcrumb-item active">vista</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Código fuente para vista</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">vista.py:</span>
<span class="sd">    Módulo encargado de generar la interfaz gráfica de la app. </span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Diego Calderón, Nahuel Vargas&quot;</span>
<span class="n">__maintainer__</span> <span class="o">=</span> <span class="s2">&quot;Diego Calderón, Nahuel Vargas&quot;</span>
<span class="n">__email__</span> <span class="o">=</span> <span class="s2">&quot;diegoacalderon994@gmail.com, nahuvargas24@gmail.com&quot;</span>
<span class="n">__copyright__</span> <span class="o">=</span> <span class="s2">&quot;Copyright 2023&quot;</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;0.0.2&quot;</span>

<span class="kn">from</span> <span class="nn">PySide2.QtCore</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PySide2.QtGui</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PySide2.QtWidgets</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_qt5agg</span> <span class="kn">import</span> <span class="n">FigureCanvasQTAgg</span> <span class="k">as</span> <span class="n">FigureCanvas</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">from</span> <span class="nn">Qt.window_main</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">Qt.window_agregar</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">Qt.window_eliminar</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">Qt.window_modificar</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">Qt.window_consulta</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">from</span> <span class="nn">modelo</span> <span class="kn">import</span> <span class="n">Crud</span>
<span class="kn">import</span> <span class="nn">random</span>


<span class="c1"># -------- Clases para widgets -------- #</span>
<div class="viewcode-block" id="Opciones"><a class="viewcode-back" href="../vista.html#vista.Opciones">[documentos]</a><span class="k">class</span> <span class="nc">Opciones</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clase que establece qué ventanas mostrar</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Opciones.show_win_agregar"><a class="viewcode-back" href="../vista.html#vista.Opciones.show_win_agregar">[documentos]</a>    <span class="k">def</span> <span class="nf">show_win_agregar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para setear y mostrar ventana de **Agregar Artículo**.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close_all_window</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_agregar</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Agregar&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_agregar</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="c1"># Muevo la ventana a la derecha de la ventana principal.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_agregar</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">top</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opened_windows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_agregar</span><span class="p">)</span>

        <span class="c1"># Limpio celdas.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_agregar</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_nombre</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_agregar</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_cant</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_agregar</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_precio</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_agregar</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_descrip</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_agregar</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">notificacion</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span></div>

<div class="viewcode-block" id="Opciones.show_win_eliminar"><a class="viewcode-back" href="../vista.html#vista.Opciones.show_win_eliminar">[documentos]</a>    <span class="k">def</span> <span class="nf">show_win_eliminar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para setear y mostrar ventana de **Eliminar Artículo**.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close_all_window</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_eliminar</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Eliminar&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_eliminar</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="c1"># Muevo la ventana a la derecha de la ventana principal.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_eliminar</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">top</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opened_windows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_eliminar</span><span class="p">)</span>

        <span class="c1"># Limpio celdas.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_eliminar</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_nombre</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_eliminar</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">notificacion</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span></div>

<div class="viewcode-block" id="Opciones.show_win_modificar"><a class="viewcode-back" href="../vista.html#vista.Opciones.show_win_modificar">[documentos]</a>    <span class="k">def</span> <span class="nf">show_win_modificar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para setear y mostrar ventana de **Modificar Artículo**.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close_all_window</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_modificar</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Modificar&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_modificar</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="c1"># Muevo la ventana a la derecha de la ventana principal.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_modificar</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">top</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opened_windows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_modificar</span><span class="p">)</span>

        <span class="c1"># Limpio celdas.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_modificar</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_nombre</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_modificar</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_cant</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_modificar</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_precio</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_modificar</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_descrip</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_modificar</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">notificacion</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span></div>

<div class="viewcode-block" id="Opciones.show_win_consultar"><a class="viewcode-back" href="../vista.html#vista.Opciones.show_win_consultar">[documentos]</a>    <span class="k">def</span> <span class="nf">show_win_consultar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para setear y mostrar ventana de **Consultar Artículo**.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close_all_window</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_consulta</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Consulta&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_consulta</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="c1"># Muevo la ventana a la derecha de la ventana principal.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_consulta</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">right</span><span class="p">()</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span><span class="o">.</span><span class="n">top</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opened_windows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">window_consulta</span><span class="p">)</span>

        <span class="c1"># Limpio celdas.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_consulta</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_nombre</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_consulta</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_descrip</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_consulta</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">notificacion</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">window_consulta</span><span class="o">.</span><span class="n">full_cat</span><span class="p">()</span>  <span class="c1"># Obtengo catálogo completo de la bd y lo muestra al abrir la ventana.</span></div>

<div class="viewcode-block" id="Opciones.close_all_window"><a class="viewcode-back" href="../vista.html#vista.Opciones.close_all_window">[documentos]</a>    <span class="k">def</span> <span class="nf">close_all_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para cerrar todas las ventanas secundarias abiertas.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">window</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">opened_windows</span><span class="p">:</span>
            <span class="n">window</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opened_windows</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Vacio la lista de ventanas abiertas.</span></div></div>


<span class="c1"># --- Clase para interactuar con gráfico de torta --- #</span>
<div class="viewcode-block" id="Canvas_grafica"><a class="viewcode-back" href="../vista.html#vista.Canvas_grafica">[documentos]</a><span class="k">class</span> <span class="nc">Canvas_grafica</span><span class="p">(</span><span class="n">FigureCanvas</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clase que contiene métodos para actualizar y dar estilo al gráfico de torta.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Canvas_grafica.__init__"><a class="viewcode-back" href="../vista.html#vista.Canvas_grafica.__init__">[documentos]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor que hereda el correspondiente a la clase ``FigureCanvas()``,</span>
<span class="sd">        y que además crea un gráfico matplotlib en blanco.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Asigno un espacio para ubicar el gráfico de matplotlib usando Canvas.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span>
            <span class="mi">1</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">12</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s2">&quot;none&quot;</span>
        <span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fig</span><span class="p">)</span></div>

<div class="viewcode-block" id="Canvas_grafica.upgrade_graph"><a class="viewcode-back" href="../vista.html#vista.Canvas_grafica.upgrade_graph">[documentos]</a>    <span class="k">def</span> <span class="nf">upgrade_graph</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre</span><span class="p">,</span> <span class="n">cantidad</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para actualizar nombres y cantidades en gráfico de torta.</span>

<span class="sd">        :param nombre: Nombre del componente.</span>
<span class="sd">        :param cantidad: Cantidad del componente.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Borro gráfico antiguo.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

        <span class="c1"># Parámetros para nuevo gráfico.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nombres</span> <span class="o">=</span> <span class="n">nombre</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tamanio</span> <span class="o">=</span> <span class="n">cantidad</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">colores</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">explotar</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Asigno color aleatorio claros segun la cantidad de artículos disponibles.</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nombres</span><span class="p">)):</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
            <span class="n">g</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
            <span class="n">b</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">colores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;#</span><span class="si">%02x%02x%02x</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">explotar</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">0.05</span><span class="p">)</span>

        <span class="c1"># Pasaje de porcentaje a valor real en bd.</span>
        <span class="n">valor_real</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">pct</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.0f}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
            <span class="p">(</span><span class="n">pct</span> <span class="o">*</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">tamanio</span><span class="p">))))</span> <span class="o">/</span> <span class="mi">100</span>
        <span class="p">)</span>
        <span class="c1"># Asigno nuevos parámetros a gráfico.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ax</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tamanio</span><span class="p">,</span>
            <span class="n">explode</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">explotar</span><span class="p">,</span>
            <span class="n">labels</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">nombres</span><span class="p">,</span>
            <span class="n">colors</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">colores</span><span class="p">,</span>
            <span class="n">autopct</span><span class="o">=</span><span class="n">valor_real</span><span class="p">,</span>
            <span class="n">pctdistance</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
            <span class="n">shadow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span>
            <span class="n">radius</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span>
            <span class="n">labeldistance</span><span class="o">=</span><span class="mf">1.1</span><span class="p">,</span>
            <span class="n">textprops</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;fontsize&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">},</span>
        <span class="p">)</span>
        <span class="c1">#self.ax.set_aspect(&#39;equal&#39;) </span>
        <span class="c1"># Actualizo gráfico.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span></div></div>


<span class="c1"># -------- Clases para ventanas -------#</span>
<div class="viewcode-block" id="MainWindow"><a class="viewcode-back" href="../vista.html#vista.MainWindow">[documentos]</a><span class="k">class</span> <span class="nc">MainWindow</span><span class="p">(</span><span class="n">QMainWindow</span><span class="p">,</span> <span class="n">Opciones</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clase que contiene métodos para la interacción en la ventana principal.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="MainWindow.__init__"><a class="viewcode-back" href="../vista.html#vista.MainWindow.__init__">[documentos]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor que hereda el correspondiente a la clase ``QMainWindow()`` para acceder a widgets.</span>
<span class="sd">        Tambíen hereda de la clase ``Opciones()`` para acceder a las ventanas secundarias.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="c1"># Creo objeto de la clase en QT para crear widgets.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_MainWindow</span><span class="p">()</span>
        <span class="c1"># Se acccede al metodo setupUi que crea widgets.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># Defino un objeto de clase Crud() para el manejo de datos.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span> <span class="o">=</span> <span class="n">Crud</span><span class="p">()</span>

        <span class="c1"># Creo objetos window para acceder a las ventanas secundarias y estas a la principal.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_agregar</span> <span class="o">=</span> <span class="n">WindowAgregar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_eliminar</span> <span class="o">=</span> <span class="n">WindowEliminar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_modificar</span> <span class="o">=</span> <span class="n">WindowModificar</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_consulta</span> <span class="o">=</span> <span class="n">WindowConsulta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="c1"># Lista de ventanas abiertas.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opened_windows</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Creo objeto de clase Canvas_grafica() para crear y actualizar gráfico de matplotlib.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grafica</span> <span class="o">=</span> <span class="n">Canvas_grafica</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">grafica_torta</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">grafica</span><span class="p">)</span>

        <span class="c1"># Obtengo y muestro catálogo completo en gráfico de torta al iniciar.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">window_consulta</span><span class="o">.</span><span class="n">full_cat</span><span class="p">()</span>

        <span class="c1"># Callback de widgets Button para abrir ventanas secundarias.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_agregar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_win_agregar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_eliminar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_win_eliminar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_modificar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_win_modificar</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_consultar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">show_win_consultar</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="WindowAgregar"><a class="viewcode-back" href="../vista.html#vista.WindowAgregar">[documentos]</a><span class="k">class</span> <span class="nc">WindowAgregar</span><span class="p">(</span><span class="n">QDialog</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clase que contiene métodos para la interacción en la ventana **Agregar Artículo**.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="WindowAgregar.__init__"><a class="viewcode-back" href="../vista.html#vista.WindowAgregar.__init__">[documentos]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj_f</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor que hereda el correspondiente a la clase ``QDialog()`` para acceder a widgets.</span>

<span class="sd">        :param obj_f: Objeto de clase ``Crud()``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="c1"># Creo objeto de la clase en QT para crear widgets.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_Agregar</span><span class="p">()</span>
        <span class="c1"># Se acccede al método setupUi que crea widgets.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># Cedo acceso a objeto Crud desde cualquier método de esta clase.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span> <span class="o">=</span> <span class="n">obj_f</span>

        <span class="c1"># Callback de widgets Button</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_aceptar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">new_load</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_cancelar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span></div>

<div class="viewcode-block" id="WindowAgregar.new_load"><a class="viewcode-back" href="../vista.html#vista.WindowAgregar.new_load">[documentos]</a>    <span class="k">def</span> <span class="nf">new_load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para agregar un nuevo artículo.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mje</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span><span class="o">.</span><span class="n">agreg</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_nombre</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_cant</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_precio</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_descrip</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># Informo en la ventana el resultado de la operacíon realizada.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">notificacion</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">mje</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">mje</span><span class="p">:</span>
            <span class="c1"># Informo en la ventana la excepción.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">notificacion</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">mje</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="WindowEliminar"><a class="viewcode-back" href="../vista.html#vista.WindowEliminar">[documentos]</a><span class="k">class</span> <span class="nc">WindowEliminar</span><span class="p">(</span><span class="n">QDialog</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clase que contiene métodos para la interacción en la ventana **Eliminar Artículo**.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="WindowEliminar.__init__"><a class="viewcode-back" href="../vista.html#vista.WindowEliminar.__init__">[documentos]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj_f</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor que hereda el correspondiente a la clase ``QDialog()`` para acceder a widgets.</span>

<span class="sd">        :param obj_f: Objeto de clase ``Crud()``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="c1"># Creo objeto de la clase en QT para crear widgets.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_Eliminar</span><span class="p">()</span>
        <span class="c1"># Se acccede al método setupUi que crea widgets.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># Cedo acceso a objeto Crud desde cualquier método de esta clase.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span> <span class="o">=</span> <span class="n">obj_f</span>

        <span class="c1"># Callback de widgets Button.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_aceptar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">delete</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_cancelar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span></div>

<div class="viewcode-block" id="WindowEliminar.delete"><a class="viewcode-back" href="../vista.html#vista.WindowEliminar.delete">[documentos]</a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para eliminar un artículo existente.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mje</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span><span class="o">.</span><span class="n">elim</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_nombre</span><span class="p">)</span>

        <span class="c1"># Informo en la ventana el resultado de la operacíon realizada.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">notificacion</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">mje</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="WindowModificar"><a class="viewcode-back" href="../vista.html#vista.WindowModificar">[documentos]</a><span class="k">class</span> <span class="nc">WindowModificar</span><span class="p">(</span><span class="n">QDialog</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clase que contiene métodos para la interacción en la ventana **Modificar Artículo**.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="WindowModificar.__init__"><a class="viewcode-back" href="../vista.html#vista.WindowModificar.__init__">[documentos]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj_f</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor que hereda el correspondiente a la clase ``QDialog()`` para acceder a widgets.</span>

<span class="sd">        :param obj_f: Objeto de clase ``Crud()``.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="c1"># Creo objeto de la clase en QT para crear widgets.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_Modificar</span><span class="p">()</span>
        <span class="c1"># Se acccede al método setupUi que crea widgets.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># Cedo acceso a objeto Crud desde cualquier método de esta clase.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span> <span class="o">=</span> <span class="n">obj_f</span>

        <span class="c1"># Callback de widgets Button.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_aceptar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modificated</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_cancelar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span></div>

<div class="viewcode-block" id="WindowModificar.modificated"><a class="viewcode-back" href="../vista.html#vista.WindowModificar.modificated">[documentos]</a>    <span class="k">def</span> <span class="nf">modificated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para modificar un artículo existente.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mje</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span><span class="o">.</span><span class="n">modif</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_nombre</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_cant</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_precio</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_descrip</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="c1"># Informo en la ventana el resultado de la operacíon realizada.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">notificacion</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">mje</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">mje</span><span class="p">:</span>
            <span class="c1"># Informo en la ventana la excepción.</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">notificacion</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">mje</span><span class="p">))</span></div></div>


<div class="viewcode-block" id="WindowConsulta"><a class="viewcode-back" href="../vista.html#vista.WindowConsulta">[documentos]</a><span class="k">class</span> <span class="nc">WindowConsulta</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Clase que contiene métodos para la interacción en la ventana **Consultar Artículo**.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="WindowConsulta.__init__"><a class="viewcode-back" href="../vista.html#vista.WindowConsulta.__init__">[documentos]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj_f</span><span class="p">,</span> <span class="n">obj_win_main</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor que hereda el correspondiente a la clase ``QWidget()`` para acceder a widgets.</span>

<span class="sd">        :param obj_f: Objeto de clase ``Crud()``.</span>
<span class="sd">        :param obj_win_main: Objeto de clase ``MainWindow()`` para acceder a atributos/métodos de ventana principal.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="c1"># Creo objeto de la clase en QT para crear widgets.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span> <span class="o">=</span> <span class="n">Ui_Consulta</span><span class="p">()</span>
        <span class="c1"># Se acccede al método setupUi que crea widgets.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">setupUi</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="c1"># Cedo acceso a objeto Crud desde cualquier método de esta clase.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span> <span class="o">=</span> <span class="n">obj_f</span>
        <span class="c1"># Cedo acceso a objeto MainWindow desde cualquier método de esta clase.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_win_main</span> <span class="o">=</span> <span class="n">obj_win_main</span>

        <span class="c1"># Callback de widgets Button.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_buscar</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">search</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_cat_full</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">full_cat</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">btn_volver</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span></div>

<div class="viewcode-block" id="WindowConsulta.insert"><a class="viewcode-back" href="../vista.html#vista.WindowConsulta.insert">[documentos]</a>    <span class="k">def</span> <span class="nf">insert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">nom</span><span class="p">,</span> <span class="n">cant</span><span class="p">,</span> <span class="n">prec</span><span class="p">,</span> <span class="n">descrip</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para agregar un artículo nuevo en la tabla.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="nb">id</span><span class="p">,</span> <span class="n">nom</span><span class="p">,</span> <span class="n">cant</span><span class="p">,</span> <span class="n">prec</span><span class="p">,</span> <span class="n">descrip</span><span class="p">))</span>

        <span class="n">fila</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">registro</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">frame</span><span class="p">:</span>
            <span class="n">columna</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="c1"># Creo fila nueva cada vez que se lee un nuevo frame (todos los parámetros de un artículo).</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">catalogo_list</span><span class="o">.</span><span class="n">insertRow</span><span class="p">(</span><span class="n">fila</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">elemento</span> <span class="ow">in</span> <span class="n">registro</span><span class="p">:</span>
                <span class="c1"># Cargo cada parámetro en la columna correspondiente, por orden.</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">catalogo_list</span><span class="o">.</span><span class="n">setItem</span><span class="p">(</span><span class="n">fila</span><span class="p">,</span> <span class="n">columna</span><span class="p">,</span> <span class="n">QTableWidgetItem</span><span class="p">(</span><span class="n">elemento</span><span class="p">))</span>
                <span class="n">columna</span> <span class="o">+=</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="WindowConsulta.delete"><a class="viewcode-back" href="../vista.html#vista.WindowConsulta.delete">[documentos]</a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para limpiar celdas de la tabla.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">catalogo_list</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span></div>

<div class="viewcode-block" id="WindowConsulta.search"><a class="viewcode-back" href="../vista.html#vista.WindowConsulta.search">[documentos]</a>    <span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para buscar y mostrar artículo/s en la tabla.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mje</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span><span class="o">.</span><span class="n">consulta</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_nombre</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">in_descrip</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="c1"># Informo en la ventana el resultado de la operacíon realizada.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">notificacion</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">mje</span><span class="p">)</span></div>

<div class="viewcode-block" id="WindowConsulta.full_cat"><a class="viewcode-back" href="../vista.html#vista.WindowConsulta.full_cat">[documentos]</a>    <span class="k">def</span> <span class="nf">full_cat</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Método para mostrar todos los artículos en la tabla.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ui</span><span class="o">.</span><span class="n">catalogo_list</span><span class="o">.</span><span class="n">clearContents</span><span class="p">()</span>
        <span class="c1"># Actualizo tabla y gráfico de torta.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">obj_f</span><span class="o">.</span><span class="n">mostrar_cat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj_win_main</span><span class="p">)</span></div></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Derechos de autor 2023, Diego Calderón, Nahuel Vargas.</p>
  </div>

  Compilado con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    proporcionado por <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>